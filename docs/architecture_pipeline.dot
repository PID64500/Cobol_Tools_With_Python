digraph COBOL_TOOLS_PIPELINE {
    rankdir=LR;

    config    [label="config.yaml"];
    main      [label="main.py"];
    extract   [label="extract_paragraphs.py"];
    analyze   [label="analysis_core_wrapper.py\n+ analysis_core.py"];
    callers   [label="find_callers.py"];
    listing   [label="list_sources.py"];
    graphb    [label="graph_builder.py"];
    report    [label="report_markdown.py\n+ templates/"];
    synth     [label="generate_global_synthesis.py"];

    config -> main;

    main -> listing;
    main -> extract;
    main -> analyze;
    main -> callers;
    main -> graphb;
    main -> report;
    main -> synth;

    extract -> analyze;
    analyze -> graphb;
    analyze -> report;
    report  -> synth;
}
